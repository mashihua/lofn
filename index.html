<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<title>Lofn @ GitHub</title>
	<style type="text/css">
		@import url(rc/style.css);
	</style>
</head>

<body>
	<div id="head">
		<h1>Lofn</h1>
		<h3>The language over</h3>
		<address>by <a href="http://github.com/infinte">infinte</a></address>
	</div>
	<div id="trylofn" class="section">
		<h2>Try lofn (based on <a href="http://github.com/infinte/lofn/tree/r__hky_1">Hky.1</a>)</h2>
		<textarea id="input" name="input" rows="7" cols="30">
cout &lt;&lt; "Hello world!" &lt;&lt; endl
// or:
tracel "Hello world, again!"
</textarea>
		<button id="run">Start script</button>
		<pre id="output">(output will be displayed here)</pre>
	</div>
	<div id="introduction" class="section">
		<h2>What lofn is</h2>
		<p>The lofn is a <em>new language</em> implements with Javascript. Lofn codes can be runned as managed script on a web page, or used in code generation.</p>
		<p>Writing with Lofn will be enjoyable. For example, following JavaScript code:</p>
<pre class="javascript">list.reduce(function(a,b){ return a + b })</pre>
		<p>will be:</p>
<pre class="lofn">list.reduce (a,b) :&gt; a + b</pre>
		<p>Isn't it fun?</p>
	</div>
	<div id="thelang" class="section">
		<h2>The language</h2>
		<h3>Using functions are simple</h3>
		<p>Do you feel annoyed when using JavaScript functions? Now it will be changed. Lofn supports:</p>
		<ul>
			<li>Code blocks: <code>{something}</code></li>
			<li>Lambda statements: <code>(a, b) :&gt; {something}</code></li>
			<li>Lambda expressions: <code>(a, b) :&gt; expression</code></li>
			<li>and Traditional functions: <code>function(args){something</code></li>
		</ul>
		<p>Hmmmm... Considering you're using a list-filter, like this:</p>
<pre class="js">list.select(function(item){return item.mark &gt; 0})</pre>
		<p>So let's find out the needlesses:</p>
<pre class="js">list.select(<del>function</del>(item){<del>return</del> item.mark &gt; 0})</pre>
		<p>You see! and the lofn code is:</p>
<pre class="lofn">list.select item :&gt; list.mark &gt; 0</pre>
	</div>
	<div id="api" class="section">
		<h2>The API</h2>
		<p>The lofn-web API is very easy-to-use. You can easily start a lofn script from a string:</p>
<pre class="js">var script = new lofn.Script("alert example");
script.setGlobalVariable('alert', alert);
script.setGlobalVariable('example', 1);
script.start() // will alert '1'
</pre>
	</div>
	<div id="safety" class="section">
		<h2>Safety</h2>
		<p>Lofn managed source is very safe, that means only the outer-value you exposed to Lofn will be accessable for the Lofn code.</p>
	</div>
	<div id="informations" class="section">
		<h2>Get information</h2>
		<ul class="links">
			<li><a href="http://github.com/infinte/Lofn">Lofn homepage</a></li>
			<li><a href="http://coro.in">My blog</a></li>
			<li><a href="docs.html">Documents</a></li>
		</ul>
	</div>

	<script src="lf/outg.js"></script>
	<script src="lf/primitives.js"></script>
	<script src="lf/token.js"></script>
	<script src="lf/parse.js"></script>
	<script src="lf/vm.js"></script>
	<script src="lf/stl.js"></script>
	<script type="text/javascript">
			document.getElementById('run').onclick = function(){
			clrscr();
			var tracel = G_TRACE('output').tracel;
			try {
					var script = new lofn.Script(document.getElementById('input').value);
					script.start();
					tracel('\n--- DONE  ---');
			} catch(e){
					tracel('\nAn error occurs when executing this script:'+e);
				}
			}
	</script>
</body>
</html>
